# LRU-кеш для оптимізації запитів до масиву

Цей проект демонструє використання LRU-кешу для оптимізації доступу до даних при обробці запитів до масиву чисел.

## Опис проекту

Реалізовано програму для оптимізації обробки двох типів запитів до масиву:
1. **Range(L, R)** - знаходження суми елементів на відрізку від індексу L до R включно
2. **Update(index, value)** - заміна значення елемента в масиві за індексом index на нове значення value

Програма порівнює два підходи:
- Виконання запитів без використання кешу
- Виконання запитів з використанням LRU-кешу (Least Recently Used)

## Структура проекту

- `lru_cache.py` - містить реалізацію LRU-кешу та функції для роботи з масивом
- `main.py` - головний файл для запуску тестів

## Реалізовані функції

1. `range_sum_no_cache(array, L, R)` - обчислює суму елементів на відрізку без кешу
2. `update_no_cache(array, index, value)` - оновлює значення елемента без кешу
3. `range_sum_with_cache(array, L, R, cache)` - обчислює суму елементів з використанням кешу
4. `update_with_cache(array, index, value, cache)` - оновлює значення та видаляє неактуальні дані з кешу

## Тестові дані

- Масив розміром 100 000 елементів, заповнених випадковими числами
- 50 000 випадкових запитів (90% Range і 10% Update)
- LRU-кеш розміром 1 000 елементів
- Для демонстрації ефективності кешу у запитах Range використовується невелика штучна затримка, яка імітує складні обчислення

## Запуск програми

```bash
python main.py
```

## Вихідні дані

Програма виводить детальну статистику виконання запитів:

### Результати тестування
```
Час виконання без кешування: 27.25 секунд
Час виконання з LRU-кешем: 10.87 секунд
Прискорення: 2.51 разів
```

### Статистика запитів
```
Загальна кількість запитів: 50000
Кількість запитів Range: 45000
Кількість запитів Update: 5000
```

### Статистика кешу
```
Розмір кешу: 1000
Кількість попадань у кеш: 30298
Кількість промахів кешу: 14702
Ефективність кешу: 67.33%
```

## Реалізація LRU-кешу

LRU-кеш реалізовано з використанням:
- Хеш-таблиці (словника) для швидкого доступу за ключем
- Двозв'язного списку для відстеження порядку використання елементів

Складність операцій:
- Доступ до елемента: O(1)
- Додавання елемента: O(1)
- Видалення елемента: O(1)

## Висновки

Результати тестування демонструють значне прискорення обробки запитів при використанні LRU-кешу (в ~2.5 рази). Ефективність кешу складає приблизно 67%, тобто дві третини запитів задовольняються з кешу без необхідності повторного обчислення.

Висока ефективність кешу пояснюється тим, що в реальних сценаріях використання часто зустрічаються повторні запити до тих самих даних. LRU-кеш дозволяє зберігати в пам'яті найбільш затребувані результати та видаляти найменш використовувані, що оптимізує використання обмеженого ресурсу пам'яті.